# 인덱스 정리
정리 API는 한개 이상의 인덱스를 정리할 수 있게 해줍니다. 인덱스의 정리 처리과정은 인덱스 데이터를 저장소에 저장하고 내부 [트랜잭션 로그](index-modules-translog.md)를 초기화 함으로써 메모리 할당 해지하는 것입니다. Elasticsearch는 메모리 초기화가 필요할 때 자동으로 정리 동작이 발생할 수 있도록 발견적 학습법을 활용하여 메모리를 사용합니다.
```
curl -XPOST 'localhost:9200/twitter/_flush?pretty'
```
## 요청 파라미터
정리 API는 다음과 같은 파라미터를 지원합니다.

| 파라미터명 | 내용 |
| -- | -- |
| ```wait_if_ongoing``` | 만약 *true*로 설정되면 만약 다른 정리 작업이 진행중이면 대기하게 됩니다. 기본은 *false*이며 만약 다른 정리 작업이 진행중에 있으면 파편 수준의 예외를 발생시킵니다. |
| ```force``` | 정리 작업을 필요성 여부(예로 인덱스에 커밋할 변경사항이 없는 경우)를 떠나서 강제적으로 수행할 지에 대한 여부 입니다. 커밋되지 않은 변경사항이 없더라도 트랜잭션로그 ID를 증가시켜야하는 경우 유용합니다.(이 설정은 내부용으로 고려될 수 있습니다) |

## 다중 인덱스
정리 API는 한번의 요청으로 한개 이상의 인덱스 또는 전체 인덱스(```_all```)를 정리할 수 있습니다.
```
curl -XPOST 'localhost:9200/kimchy,elasticsearch/_flush?pretty'
curl -XPOST 'localhost:9200/_flush?pretty'
```